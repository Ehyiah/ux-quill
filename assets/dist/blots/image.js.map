{"version":3,"file":"image.js","names":["Quill","InlineBlot","import","LoadingImage","create","src","node","image","document","createElement","setAttribute","appendChild","deleteAt","index","length","cache","value","domNode","custom","dataset","blotName","className","tagName","register"],"sources":["../../src/blots/image.ts"],"sourcesContent":["import Quill from 'quill';\n\nconst InlineBlot = Quill.import('blots/block');\n\nclass LoadingImage extends InlineBlot {\n    static create(src) {\n        const node = super.create(src);\n        if (src === true) return node;\n\n        const image = document.createElement('img');\n        image.setAttribute('src', src);\n        node.appendChild(image);\n        return node;\n    }\n    deleteAt(index, length) {\n        super.deleteAt(index, length);\n        this.cache = {};\n    }\n    static value(domNode) {\n        const { src, custom } = domNode.dataset;\n        return { src, custom };\n    }\n}\n\nLoadingImage.blotName = 'imageBlot';\nLoadingImage.className = 'image-uploading';\nLoadingImage.tagName = 'span';\nQuill.register({ 'formats/imageBlot': LoadingImage });\n\nexport default LoadingImage;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,UAAU,GAAGD,KAAK,CAACE,MAAM,CAAC,aAAa,CAAC;AAE9C,MAAMC,YAAY,SAASF,UAAU,CAAC;EAClC,OAAOG,MAAMA,CAACC,GAAG,EAAE;IACf,MAAMC,IAAI,GAAG,KAAK,CAACF,MAAM,CAACC,GAAG,CAAC;IAC9B,IAAIA,GAAG,KAAK,IAAI,EAAE,OAAOC,IAAI;IAE7B,MAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC3CF,KAAK,CAACG,YAAY,CAAC,KAAK,EAAEL,GAAG,CAAC;IAC9BC,IAAI,CAACK,WAAW,CAACJ,KAAK,CAAC;IACvB,OAAOD,IAAI;EACf;EACAM,QAAQA,CAACC,KAAK,EAAEC,MAAM,EAAE;IACpB,KAAK,CAACF,QAAQ,CAACC,KAAK,EAAEC,MAAM,CAAC;IAC7B,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC;EACnB;EACA,OAAOC,KAAKA,CAACC,OAAO,EAAE;IAClB,MAAM;MAAEZ,GAAG;MAAEa;IAAO,CAAC,GAAGD,OAAO,CAACE,OAAO;IACvC,OAAO;MAAEd,GAAG;MAAEa;IAAO,CAAC;EAC1B;AACJ;AAEAf,YAAY,CAACiB,QAAQ,GAAG,WAAW;AACnCjB,YAAY,CAACkB,SAAS,GAAG,iBAAiB;AAC1ClB,YAAY,CAACmB,OAAO,GAAG,MAAM;AAC7BtB,KAAK,CAACuB,QAAQ,CAAC;EAAE,mBAAmB,EAAEpB;AAAa,CAAC,CAAC;AAErD,eAAeA,YAAY"}